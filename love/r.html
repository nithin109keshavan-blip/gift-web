<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Open My Gift ‚ù§Ô∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}

    body{
      min-height:100vh;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,#ff9a9e,#fad0c4);overflow:hidden;
    }

    .card{background:#fff;padding:30px 28px 40px;width:340px;max-width:92vw;
      border-radius:18px;text-align:center;box-shadow:0 20px 40px rgba(0,0,0,0.15);
      position:relative;z-index:2;}

    h1{font-size:22px;color:#ff4b6e;margin-bottom:12px;}
    p{font-size:14px;color:#555;margin-bottom:18px;}

    input{width:100%;padding:12px 14px;border-radius:10px;border:1.5px solid #ffb3c2;outline:none;font-size:14px;text-align:center;}
    input:focus{border-color:#ff4b6e;}

    button{margin-top:14px;padding:12px 18px;width:100%;border:none;border-radius:12px;background:#ff4b6e;color:white;font-size:15px;cursor:pointer;transition:0.2s;}
    button:hover{background:#ff2f58;}

    .hint{margin-top:8px;font-size:12px;color:#999;}

    .gift-area{margin-top:30px;display:flex;justify-content:center;position:relative;}

    .box{width:120px;height:80px;background:#ff4b6e;border-radius:0 0 12px 12px;position:relative;}

    .lid{width:130px;height:35px;background:#ff6f8f;border-radius:12px 12px 6px 6px;position:absolute;top:-28px;left:50%;transform:translateX(-50%);transform-origin:bottom center;transition:0.8s ease;}

    .ribbon{position:absolute;left:50%;top:-28px;width:14px;height:108px;background:#ffd1dc;transform:translateX(-50%);}

    /* Ruby name pop */
    .name-pop{
      position:absolute;
      top:-55px;
      width:100%;
      text-align:center;
      font-size:22px;
      font-weight:600;
      color:#ff2f58;
      opacity:0;
      transform:scale(0.6) translateY(10px);
      transition:0.6s ease;
      pointer-events:none;
    }

    .show-name .name-pop{
      opacity:1;
      transform:scale(1) translateY(0);
    }

    .message{position:absolute;top:10px;width:100%;text-align:center;font-size:15px;color:#fff;opacity:0;transform:translateY(10px);transition:0.6s ease;pointer-events:none;padding:0 8px;}

    .open .lid{transform:translateX(-50%) rotateX(65deg);}

    .open .message{opacity:1;transform:translateY(-35px);color:#ff2f58;font-weight:600;}

    .error{color:#ff2f58;font-size:13px;margin-top:10px;min-height:18px;}

    /* Floating hearts */
    .hearts{position:fixed;inset:0;pointer-events:none;z-index:1;overflow:hidden;}
    .heart-float{position:absolute;bottom:-20px;font-size:18px;animation:floatUp linear forwards;opacity:0.9;}

    @keyframes floatUp{from{transform:translateY(0) scale(1);opacity:1;}to{transform:translateY(-110vh) scale(1.6);opacity:0;}}

  </style>
</head>
<body>

  <div class="hearts" id="hearts"></div>

  <div class="card">
    <h1>Say it to open my gift ‚ù§Ô∏è</h1>
    <p>Type exactly what your heart says‚Ä¶</p>

    <input id="loveInput" type="text" placeholder="Type here..." />
    <button onclick="openGift()">Open Gift</button>

    <div class="hint">(Hint: type ‚Üí i love you)</div>

    <div class="error" id="error"></div>

    <div class="gift-area">
      <div class="box" id="box">
        <div class="lid"></div>
        <div class="ribbon"></div>

        <!-- Her name pops first -->
        <div class="name-pop">Ruby üíó</div>

        <!-- Then the message -->
        <div class="message">i love you too babyü•π</div>
      </div>
    </div>
  </div>

  <!-- Put your own Yaanji audio file in the same folder and name it yaanji.mp3 -->
  <audio id="song" src="yaanji.mp3"></audio>

  <script>
    let heartsInterval;
    let alreadyOpened = false;

    function openGift(){
      const input = document.getElementById('loveInput').value.trim().toLowerCase();
      const box = document.getElementById('box');
      const error = document.getElementById('error');
      const song = document.getElementById('song');

      if(input === "i love you"){
        error.textContent = "";

        if(alreadyOpened) return;
        alreadyOpened = true;

        // show her name first
        box.classList.add('show-name');

        // play song
        song.play().catch(()=>{});

        // start hearts
        startHearts();

        // after a short delay, open the gift and show message
        setTimeout(()=>{
          box.classList.add('open');
        }, 1200);

      }else{
        error.textContent = "Please say the magic words correctly ‚ù§Ô∏è";
      }
    }

    function startHearts(){
      const container = document.getElementById('hearts');
      heartsInterval = setInterval(()=>{
        const heart = document.createElement('div');
        heart.className = 'heart-float';
        heart.textContent = ['üíó','üíñ','üíï','üíû','‚ù§Ô∏è'][Math.floor(Math.random()*5)];
        heart.style.left = Math.random()*100 + 'vw';
        heart.style.animationDuration = (3 + Math.random()*2) + 's';
        container.appendChild(heart);
        setTimeout(()=>heart.remove(), 5000);
      }, 300);
    }
  </script>

</body>
</html>
